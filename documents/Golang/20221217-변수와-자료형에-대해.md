 
# 20221217 - 변수와 자료형에 대해

## 강타입 언어, Golang
Golnag은 강타입 중에도 강타입 언어입니다.  
강타입 언어는 타입이 다른 변수 간의 연산을 허용하지 않습니다. 물론 강타입 언어 중에서도 숫자에 한해서는 연산을 허용하기도 합니다. 정수 + 실수 연산을 허용하는 C언어처럼 허용합니다.  
강타입 언어의 장점은 타입을 정확하게 인지하고 사용하다는 점입니다. 사용자의 실수로 서로 다른 타입 간의 연산을 하더라도 컴파일 과정을 거치며 에러를 발생시키지 때문에 의도치 않은 변수 간의 연산으로 애를 먹지 않아도 됩니다.  
따라서, 사용자가 서로 다른 타입 간의 연산을 하기 위해서는 정확하게 인지한 상태로 형변환을 거쳐서 연산을 진행하게 됩니다. 강타입 언어를 사용하다가 Go언어를 사용하는 경우 조금 불편할 수도 있으나, 타입의 확실한 지정으로 에러 발생을 줄일 수 있다는 장점이 있습니다.  

## 변수(Variable)
### 자료형의 종류와 범위
Go언어의 기본 타입은 아래와 같습니다.

| Type | Size | Range or Value|
|:----------:|:----------:|:----------:| 
| Bool | 1 | true, false|
| int8 | signed, 8bit | -128 ~ 127 |
| int16 | signed, 16 bit | -32768 ~ 32767 |
| int32	| signed, 32bit	| -2147483648 ~ 2147483647 |
| int64 | signed, 64bit |	-9223372036854775808 ~ 9223372036854775807 |
| uint8 | unsigned, 8bit | 0 ~ 255
| uint16 | unsigned, 16bit |0 ~ 65535 |
uint32 | unsigned, 32bit | 0 ~ 4294967295 |
| uint64 | unsigned, 64bit | 0 ~ 18446744073709551615 |
| float32 | signed, 32bit | |
| float64 | signed, 64 bit | |
|int | signed, either 32 or 64 bits	check | check int32 and int64 |
| uint | unsigned, either 32 or 64 bits | check uint32 and uint64 |
uintptr	| unsigned, same as uint |	the bit pattern of any pointer |
byte | **alias type of uint8;** unsigned, same as uint8	| 0 ~ 255 |
rune | **alias type of int32; signed, same as int32** |	-2147483648 ~ 2147483647 |
string | string is the set of all strings of 8 bit bytes | may be empty, but not nil; e.g: "hello" or "" ... |
complex64 | float 32 bit for real number and another float 32 bit for imaginary number | e.g.: 3 + 5i |
complex128 | float 64 bit for real number and another float 64 bit for imaginary number	| se.g.: 3 + 5i |

## `float` 보장하는 소수점
![](https://velog.velcdn.com/images%2Fvamos_eon%2Fpost%2Ff50c1f2f-6aa8-4ec7-a043-22a1be6ae0c3%2Fimage.png)

![](https://velog.velcdn.com/images%2Fvamos_eon%2Fpost%2Fdbb0ea02-94b9-4b63-b06d-088096d4defb%2Fimage.png)

- `float32`는 소수점 이하 7자리까지 보장됩니다.
- `float64`는 소수점 이하 15자리까지 보장됩니다.

### rune의 사용방법
`int32`의 alias type인 `rune`은 UTF-8의 문자를 표현할 수 있습니다.  
물론 `int32`를 이용해서 UTF-8 문자 표현이 가능합니다.

```go
var runeInit rune = "🔥"
fmt.Printf("%c\n", runeInit)
```

### `int`와 `uint`에 대해서
위의 표를 보시면 `int`와 `uint`는 32bit 자료형이 될 수도, 64bit 자료형이 될 수 있다고 쓰여있습니다.  
C언어를 예로 들면 `int`는 항상 4byte의 크기를 가지게 됩니다. 즉, 32bit의 크기를 가집니다.  
C언어는 실행되는 OS의 레지스터가 32bit인지 64bit인지를 따지지 않고 `int`에 32bit를 할당합니다.  

Golang은 OS의 레지스터에 따라 `int`의 사이즈가 달라집니다. 

- 32bit OS에서는 `int == int32`
- 64bit OS에서는 `int == int64`

`uint`도 마찬가지입니다. 32bit와 64bit는 표현할 수 있는 값의 범위차가 상당히 큽니다.  
항상 OS의 환경이 다를 수 있음을 염두해 두고 프로글래밍을 해야합니다. alias 타입과 int, uint는 사용에 유의해야 합니다.

### `true`와 `false`에 대해서
C언어에서 `stdbool.h` 표준 라이브러리를 사용하게 되면 bool type의 value인 `true`, `false`를 사용할 수 있습니다. C언어에서 true는 1, false는 0의 값을 가집니다.  

Golang은 이 두가지의 참과 거짓을 나타내는 true, false의 값이 각각 1과 0의 값을 가지지 않습니다.  
Golang에서 true와 false는 boolean value일 뿐입니다. 

```go
if true == 1 {
    fmt.Println("value of true is 1")
} // error would be occurred
```

## 변수의 초기값
모든 변수는 선언과 동시에 기본 값으로 초기화됩니다. 선언하면서 변수에 값을 대입할 수도 있지만 값을 주지 않으면 default 값을 가지게 됩니다.


| Type | default value |
|:--------:|:--------:|
| bool | false |
| All numeric types | 0 |
| complex type | (0+0i) |
| uintptr	| 0 |
| byte | alias type of uint8; 0 |
| rune | alias type of int32; 0 |
| string | "" |

### 변수의 선언
변수가 어떤 값을 가지게 하고 싶다면 먼저 변수를 선언해야 합니다. 변수의 선언 방법은 아래와 같습니다.  

var 변수명 타입명 (=값, optional) (변수 선언하며 초기화)
```go
var hello string = "hello"
```

타입을 지정하며 선언 후 초기화
```go
var hello string 
hello = "hello"
```

타입을 지정없이 선언하며 초기화 : 값에 따라 타입이 자동으로 설정(단, default 값에 유의해야 함. 의도치 않은 결과가 나올 수 있음.)
```go
hello := "hello"
```

var 변수명 타입명 (=값, optional) (여러 개의 변수 동시 선언 및 초기화)

## 변수의 형변환
변수의 형변환은 심심치 않게 필요한 경우들이 생깁니다. 가령 개발을 하다가 A에서 B로 데이터의 이동이 필요한데, B에서는 string 타입이 필요한데 A에서는 해당 데이터를 int 형태로 가공해서 사용하는 케이스가 있을 수 있습니다.  
그렇게 되면 A에서 string으로 변환해서 B에 전달을 하거나, A가 int 형태로 B에 전달해서 B가 string으로 가공해서 사용하는 방법이 있습니다.  
둘 중 어느 케이스든 형변환은 무조건적으로 필요하게 됩니다. 또한 String을 UUID으로 변환해야 하는 경우도 종종 발생합니다.

Golang에서의 형변환은 아래와 같은 방법으로 이루어집니다.  
```go
var ValueThatWillBeConverted int8
var TypeUint64Variable uint64
TypeUint64Variable = uint64(ValueThatWillBeConverted)

UUID := uuid.Parse("b749308a-5bda-4113-8866-f090259e5024")
```
UUID와 관련된 형변환은 [How to convert a UUID string into UUID type](https://stackoverflow.com/questions/62952279/how-to-convert-a-uuid-string-into-uuid-type)를 참고하시면 더 자세히 확인하실 수 있습니다.

## 참고한 자료
- [Golang 기초 (3) : 변수와 자료형에 대하여](https://velog.io/@vamos_eon/go-vartypes)
- [Golang의 타입 - Go type](https://johngrib.github.io/wiki/golang-types/)
- [Data Types in Go](https://www.geeksforgeeks.org/data-types-in-go/)

--- 
<p style="text-align: right; color: gray;">
2022.12.17 ~ 18 작성하였음.
</p>