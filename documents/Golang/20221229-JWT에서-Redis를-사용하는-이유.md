# 20221229-JWT에서 Redis를 사용하는 이유
JWT와 관련되어서 팀원 분께서 "redis를 사용함으로써 그냥 session으로 하는거랑 무슨차이인지 정확히 모르겠네요"라고 질문을 주셔서 갑작스럽게 궁금한 점이 생겨서 코딩맛집 분들께 여쭈어 보게 되었습니다.  
도움을 주신 용민님, 찬성님, 현석님 감사합니다. 그리고 질문을 해주신 호재님께도 감사드려요!  

## 그럼 과연 왜 JWT에서 Redis를 사용할까?
기존의 JWT(JSON Web Token)은 Refresh Time(만료 시간)이 토큰 내에 시간을 하기 때문에 토큰을 삭제할 수 없다는 단점이 있습니다.  
JWT의 토큰의 만료시간 혹은 만료방법을 기록하기 위해서 사용하고 있습니다. Refresh Token을 발행하고 Refresh Token을 통해서 Access Token을 발행합니다.  
Session은 서버의 부하를 많이 주기에 요즘에는 주로 안 사용하고 있는 것으로 알고 있습니다. 하지만 위와 같은 단점이 있었기에 이러한 단점을 보완하기 위해서 Refresh Token를 발행하고 Refresh Token를 통해서 Access Token을 발급하게 됩니다.  
**세션 > JWT(Redis) < JWT**으로 생각하시면 되겠습니다. 세션은 서버의 부담을 많이 주기에 요즘 추세는 JWT를 주로 사용하는 것으로 알고 있으며, 통상적인 JWT를 사용하는 경우 보안과 관련된 이슈가 생길 수 있기 때문에 Redis를 추가하여 보안의 취약점을 보완하는 역할을 하는 것 같습니다.  

- **요약:**
  - 세션을 사용할 경우 서버의 부하를 줄 수 있으므로, 추세는 JWT를 사용한다.
  - 일반적인 JWT를 사용할 경우 만료가 안 되는 경우가 있는다.
    - JWT를 만료 시간을 만들었고 만료시간이 짧아서 사용자들이 불을 느끼게 됩니다.
  - 이러한 단점을 보완하고자 Redis를 사용해서 Refresh Token를 삭제시켜서 Access Token 만료시킨다.
  - Refresh Token이 탈취 당하더라도 ID와 비밀번호가 없다면 Access Token을 발급 받을 수 없다.

## 참고한 문서
- [**Access Token과 Refresh Token이란 무엇인가?**](https://dreamaz.tistory.com/22)
- [GO 언어로 JWT 인증서버 만들기](https://covenant.tistory.com/203)
- [#3 Golang JWT 토큰으로 인증 구현하기](https://bourbonkk.tistory.com/60)
- [[golang] JWT 인증 구현 (feat. 유저등록기능, 로그인기능)](https://jeong-dev-blog.tistory.com/2)
- [JWT 대충 쓰면 님들 코딩인생 끝남](https://youtu.be/XXseiON9CV0)
- [JWT에서 Refresh Token은 왜 필요한가?](https://velog.io/@park2348190/JWT%EC%97%90%EC%84%9C-Refresh-Token%EC%9D%80-%EC%99%9C-%ED%95%84%EC%9A%94%ED%95%9C%EA%B0%80)
- [JSON Web Tokens (JWT) are Dangerous for User Sessions—Here’s a Solution](https://redis.com/blog/json-web-tokens-jwt-are-dangerous-for-user-sessions/)
- [Access Token과 Refresh Token이란 무엇인가?](https://dreamaz.tistory.com/22)
- [Redis를 통한 JWT Refresh Token 관리](https://sol-devlog.tistory.com/22)

---

<p style="text-align: right; color: gray;">
2022.12.29 ~ 30 작성하였음.
</p>
